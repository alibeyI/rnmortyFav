(this.webpackJsonprnmep=this.webpackJsonprnmep||[]).push([[1],{14:function(e,t,a){e.exports=a(27)},25:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),l=a(12),o=a(13),i=a(1),u={episodes:[],favourites:[]},p=r.a.createContext(u),d=function(e,t){switch(t.type){case"FETCH_DATA":return Object(i.a)(Object(i.a)({},e),{},{episodes:t.payload});case"ADD_FAV":return Object(i.a)(Object(i.a)({},e),{},{favourites:[].concat(Object(o.a)(e.favourites),[t.payload])});case"REMOVE_FAV":return Object(i.a)(Object(i.a)({},e),{},{favourites:t.payload});default:return e}},m=function(e){var t=e.children,a=r.a.useReducer(d,u),n=Object(l.a)(a,2),s=n[0],c=n[1];return r.a.createElement(p.Provider,{value:{state:s,dispatch:c}},t)},f=a(4),v=function(e){var t=r.a.useContext(p).state;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,"Rick and Morty"),r.a.createElement("p",null,"Pick your favourite episode!")),r.a.createElement("div",null,r.a.createElement(f.a,{to:"/"},"Home"),r.a.createElement(f.a,{to:"/faves"},"Favourites: ",t.favourites.length))),e.children)},h=(a(25),a(6)),E=a.n(h),y=a(11),b=function(){var e=Object(y.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes",e.next=3,fetch("https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",t({type:"FETCH_DATA",payload:n._embedded.episodes}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t,a){var n=e.favourites.includes(a),r={type:"ADD_FAV",payload:a};n&&(r={type:"REMOVE_FAV",payload:e.favourites.filter((function(e){return e.id!==a.id}))});return t(r)},x=r.a.lazy((function(){return a.e(0).then(a.bind(null,28))})),A=function(){var e=r.a.useContext(p),t=e.state,a=e.dispatch;r.a.useEffect((function(){0===t.episodes.length&&b(a)}),[]);var n={epis:t.episodes,store:{state:t,dispatch:a},toggleFavAction:g,favourites:t.favourites};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement("section",{style:{display:"flex",flexWrap:"wrap",minWidth:"100vh"}},r.a.createElement(x,n))))},F=r.a.lazy((function(){return a.e(0).then(a.bind(null,28))})),O=function(){var e=r.a.useContext(p),t=e.state,a=e.dispatch,n={epis:t.favourites,store:{state:t,dispatch:a},toggleFavAction:g,favourites:t.favourites};return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"loading...")},r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",minWidth:"100vh"}},r.a.createElement(F,n)))},j=function(e){return e.pageComponent};c.a.render(r.a.createElement(m,null,r.a.createElement(f.b,null,r.a.createElement(v,{path:"/"},r.a.createElement(j,{pageComponent:r.a.createElement(A,null),path:"/"}),r.a.createElement(j,{pageComponent:r.a.createElement(O,null),path:"/faves"})))),document.getElementById("root"))}},[[14,2,3]]]);
//# sourceMappingURL=main.34569d79.chunk.js.map